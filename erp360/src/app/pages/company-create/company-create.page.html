<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Nueva empresa</ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" (click)="close()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="form" (ngSubmit)="save()">
    <ion-list>
      <ion-item>
        <ion-input label="Nombre Empresa" labelPlacement="floating" formControlName="name" required
          [class.valid]="form.get('name')?.valid && showValidationIcon('name')"
          [class.invalid]="form.get('name')?.invalid && showValidationIcon('name')"></ion-input>
        <ion-icon slot="end" name="checkmark-circle" *ngIf="form.get('name')?.valid && showValidationIcon('name')"
          color="success"></ion-icon>
        <ion-icon slot="end" name="close-circle" *ngIf="form.get('name')?.invalid && showValidationIcon('name')"
          color="danger"></ion-icon>
      </ion-item>

      <ion-item>
        <ion-input label="NIT" labelPlacement="floating" formControlName="nit" required
          [class.valid]="form.get('nit')?.valid && showValidationIcon('nit')"
          [class.invalid]="form.get('nit')?.invalid && showValidationIcon('nit')"></ion-input>
        <ion-icon slot="end" name="checkmark-circle" *ngIf="form.get('nit')?.valid && showValidationIcon('nit')"
          color="success"></ion-icon>
        <ion-icon slot="end" name="close-circle" *ngIf="form.get('nit')?.invalid && showValidationIcon('nit')"
          color="danger"></ion-icon>
      </ion-item>

      <ion-item>
        <ion-input type="email" labelPlacement="floating" label="Email admin" formControlName="emailAdmin" required
          [class.valid]="form.get('emailAdmin')?.valid && showValidationIcon('emailAdmin')"
          [class.invalid]="form.get('emailAdmin')?.invalid && showValidationIcon('emailAdmin')"></ion-input>
        <ion-icon slot="end" name="checkmark-circle"
          *ngIf="form.get('emailAdmin')?.valid && showValidationIcon('emailAdmin')" color="success"></ion-icon>
        <ion-icon slot="end" name="close-circle"
          *ngIf="form.get('emailAdmin')?.invalid && showValidationIcon('emailAdmin')" color="danger"></ion-icon>
      </ion-item>

      <ion-item>
        <ion-input type="password" labelPlacement="floating" label="ContraseÃ±a" formControlName="password" required
          [class.valid]="form.get('password')?.valid && showValidationIcon('password')"
          [class.invalid]="form.get('password')?.invalid && showValidationIcon('password')"></ion-input>
        <ion-icon slot="end" name="checkmark-circle"
          *ngIf="form.get('password')?.valid && showValidationIcon('password')" color="success"></ion-icon>
        <ion-icon slot="end" name="close-circle" *ngIf="form.get('password')?.invalid && showValidationIcon('password')"
          color="danger"></ion-icon>
      </ion-item>
    </ion-list>
    <ion-button expand="block" mode="ios" type="submit" [disabled]="form.invalid || saving">
      Guardar
      <ion-spinner *ngIf="saving" slot="end" name="dots"></ion-spinner>
    </ion-button>
  </form>
</ion-content>


<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button fill="outline" (click)="close()">Cerrar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>